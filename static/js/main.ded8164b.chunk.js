(this["webpackJsonpsemester-course-builder"]=this["webpackJsonpsemester-course-builder"]||[]).push([[0],{312:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(24),i=r.n(c),s=r(33),o=r(315),u=r(67),l=r(321);var d=r(34),j=r(318),f=r(18),m=j.a.Search;function b(e){return Object(f.jsx)("div",{className:"CourseSearch",children:Object(f.jsx)(m,Object(d.a)({},e))})}var h=r(53),O=r(317),g=r(319),p=r(316),v=r(320);function x(e){var t=e.day,r=Object(h.a)(e,["day"]);return Object(f.jsx)(v.a,Object(d.a)(Object(d.a)({color:function(e){switch(e){case"SU":return"magenta";case"M":return"volcano";case"T":return"orange";case"W":return"green";case"TH":return"cyan";case"F":return"gold";case"SA":return"geekblue";default:return"error"}}(t)},r),{},{style:{width:"1.8rem",height:"1.8rem",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"},children:t}))}var y=r(57),w=r(45),S=r(322),k=r(42),C=r(41),I=r(166),T=r(58),_=r.n(T);function E(e,t){var r=_()(e,"HH:mm a"),n=_()(t,"HH:mm a"),a=_.a.duration(n.diff(r));return{minutes:a.get("minutes"),hours:a.get("hours")}}function F(e){if("M"===e)return 1;if("T"===e)return 2;if("W"===e)return 3;if("TH"===e)return 4;if("F"===e)return 5;if("S"===e)return 6;if("U"===e)return 0;throw new Error("Provided day is invalid")}function H(e){if("M"===e)return C.a.MO;if("T"===e)return C.a.TU;if("W"===e)return C.a.WE;if("TH"===e)return C.a.TH;if("F"===e)return C.a.FR;if("S"===e)return C.a.SA;if("U"===e)return C.a.SU;throw new Error("Provided day is invalid")}function Y(e,t,r){try{var n=_()("".concat(e," ").concat(r),"MM-DD-YYYY hh:mm a");do{n=n.add(1,"days")}while(n.day()!==F(t));return n}catch(a){throw a}}function D(e){var t=e.course,r=Object(h.a)(e,["course"]),n=function(e){var t=function(e){switch(e.semester){case"fall_2021":return["08/30/2021","12/18/2021"];case"spring_2022":return["01/18/2022","04/29/2021"];default:throw new Error("Invalid semester provided.")}}(e),r=Object(s.a)(t,2),n=function(e,t,r){var n=e.title,a=e.department,c=e.section,i=e.times,s=e.instructors;if(Object(h.a)(e,["title","department","section","times","instructors"]),i){var o,u,l=[],j=_()(r),f=Object(k.a)(i);try{for(f.s();!(o=f.n()).done;){var m=o.value,b=m.day,O=m.start_time,g=m.end_time,p=Y(t,b,O),v=Object(d.a)({start:(u=p,u.format("YYYY-M-D-H-m").split("-").map((function(e){return+e}))),duration:E(O,g),recurrenceRule:x(b,j),status:"CONFIRMED",title:[a,n,c].join(" "),description:n},s&&{organizer:{name:s[0].name,email:s[0].email}});l.push(v)}}catch(y){f.e(y)}finally{f.f()}return Object(I.createEvents)(l)}function x(e,t){return new C.a({freq:C.a.WEEKLY,byweekday:H(e),until:t.toDate()}).toString().split("RRULE:")[1]}}(e,r[0],r[1]);if(!n)throw new Error("No response received from ical generator");if(n.value){var a=function(e){var t=e.course_id,r=e.reg_id,n=e.semester;return"".concat([t,r,n.replace("_","")].join("_"))}(e),c=new Blob([n.value],{type:"text/calendar"}),i=document.createElement("a"),o=URL.createObjectURL(c);i.href=o,i.setAttribute("download",a+".ics"),i.click()}else n.error?console.error(n.error):console.error("There was a problem generating iCal file")};return Object(f.jsx)(y.a,{title:"Download iCal for this course",children:Object(f.jsx)(w.a,Object(d.a)(Object(d.a)({type:"primary",shape:"circle",icon:Object(f.jsx)(S.a,{})},r),{},{onClick:function(){return n(t)}}))})}_()().tz("America/New_York").format(),_.a.suppressDeprecationWarnings=!0;var M=O.a.Paragraph;function L(e){var t=e.courses,r=Object(h.a)(e,["courses"]),n=t.map((function(e,t){return Object(d.a)({key:t.toString()},e)})),a=function(e){var t=e.split(",");return t[1].trim()+" "+t[0].trim()},c=[{title:"Registration Id",dataIndex:"reg_id",key:"reg_id"},{title:"Department",dataIndex:"department",key:"department"},{title:"Title",dataIndex:"title",key:"title"},{title:"Instructors",dataIndex:"instructors",key:"instructors",render:function(e){return e?Object(f.jsx)(g.b,{direction:"vertical",align:"center",children:e.map((function(e,t){return Object(f.jsxs)("div",{children:[Object(f.jsx)(M,{children:a(e.name)}),Object(f.jsx)(M,{children:e.email})]},t)}))}):""}},{title:"Times",dataIndex:"times",key:"times",render:function(e){return e?Object(f.jsx)(g.b,{direction:"vertical",align:"center",children:e.map((function(e,t){return Object(f.jsx)("div",{children:Object(f.jsxs)(M,{style:{display:"flex",alignItems:"center"},children:[Object(f.jsx)(x,{day:e.day}),e.start_time," - ",e.end_time]})},t)}))}):""}},{title:"Credits",dataIndex:"credits",key:"credits"},{title:"Semester",dataIndex:"semester",key:"semester",render:function(e){switch(e){case"fall_2021":return"Fall 2021";default:return e}}},{title:"Action",key:"action",render:function(e,t){return Object(f.jsx)(D,{course:t})}}];return Object(f.jsx)("div",{className:"CourseTable",children:Object(f.jsx)(p.a,Object(d.a)({dataSource:n,columns:c},r))})}var R=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),r=t[0],a=t[1],c=function(e){var t=Object(n.useState)([]),r=Object(s.a)(t,2),a=r[0],c=r[1],i=Object(n.useState)(!0),o=Object(s.a)(i,2),u=o[0],l=o[1],d=Object(n.useState)(null),j=Object(s.a)(d,2),f=j[0],m=j[1];return Object(n.useEffect)((function(){l(!0),m(null),fetch(e).then((function(e){return e.json()})).then((function(e){c(e)})).catch((function(e){return m(e)})).finally((function(){l(!1)}))}),[e]),{fetching:u,courses:a,error:f}}("https://secure.swarthmore.edu/trico-course-guide/courses.json"),i=c.courses,d=c.error,j=c.fetching;return Object(f.jsx)("div",{className:"App",children:Object(f.jsxs)(o.a,{children:[Object(f.jsx)(o.a.Header,{children:Object(f.jsx)(u.a,{theme:"dark",mode:"horizontal",selectable:!1,children:Object(f.jsx)(u.a.Item,{children:"Swarthmore College Course Builder"},"1")})}),Object(f.jsxs)(o.a.Content,{children:[d&&Object(f.jsx)(l.a,{message:d,type:"error"}),Object(f.jsx)(b,{placeholder:"Begin typing to filter courses",enterButton:"search",allowClear:!0,size:"large",onSearch:function(e){a(e?i.filter((function(t){return t.title.toLowerCase().includes(e.toLowerCase())})):i)}}),Object(f.jsx)(L,{courses:r,loading:j})]})]})})},U=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,323)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;r(e),n(e),a(e),c(e),i(e)}))};r(310);i.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(R,{})}),document.getElementById("root")),U()}},[[312,1,2]]]);
//# sourceMappingURL=main.ded8164b.chunk.js.map