{"version":3,"sources":["components/CourseSearch/CourseSearch.tsx","components/CoursesTable/DayTag.tsx","lib/ical.ts","components/CoursesTable/DownloadButton.tsx","components/CoursesTable/CourseTable.tsx","config.ts","components/App/App.tsx","components/App/index.ts","hooks/useCourses.ts","reportWebVitals.ts","index.tsx"],"names":["Search","Input","CourseSearch","props","className","DayTag","day","rest","color","getColorFromDay","style","width","height","display","justifyContent","alignItems","textAlign","moment","tz","format","suppressDeprecationWarnings","flipName","str","split","first","trim","last","duration","t1","t2","m1","m2","diff","minutes","get","hours","convertDayToMomentNumber","Error","convertDayToEnum","RRule","MO","TU","WE","TH","FR","SA","SU","firstDayAfterDate","fromDate","startTime","add","e","DownloadButton","course","handleClick","semester","getBoundingDatesForSemester","res","untilDate","title","department","section","times","instructors","time","eventConfigs","until","start_time","end_time","start","config","map","a","recurrenceRule","createRrule","status","join","description","organizer","name","email","push","createEvents","freq","WEEKLY","byweekday","toDate","toString","createICS","value","course_id","reg_id","replace","generateDownloadName","file","Blob","type","link","document","createElement","url","URL","createObjectURL","href","setAttribute","click","error","console","placement","shape","icon","CalendarFilled","onClick","Paragraph","Typography","CourseTable","courses","coursesWithKeys","i","key","renderName","breakpoint","useBreakpoint","columns","dataIndex","responsive","render","text","record","sm","md","strong","length","instructor","direction","align","dataSource","appName","apiUrl","App","useState","filteredCourses","setFilteredCourses","endpoint","setCourses","fetching","setFetching","setError","useEffect","fetch","then","response","json","catch","finally","useCourses","Header","padding","mode","selectable","backgroundColor","fontSize","margin","Item","Content","message","placeholder","enterButton","allowClear","size","onSearch","searchValue","filter","Boolean","toLowerCase","includes","loading","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2bf1fa99.chunk.js","sourcesContent":["import {Input} from 'antd';\n\nconst {Search} = Input;\n\nexport default function CourseSearch(props) {\n    return (\n        <div className=\"CourseSearch\">\n            <Search {...props} />\n        </div>\n    );\n}","import {Tag} from 'antd';\n\nexport default function DayTag({day, ...rest}) {\n    const getColorFromDay = (day) => {\n        switch (day) {\n        case 'SU':\n            return 'magenta';\n        case 'M':\n            return 'volcano';\n        case 'T':\n            return 'orange';\n        case 'W':\n            return 'green';\n        case 'TH':\n            return 'cyan';\n        case 'F':\n            return 'gold';\n        case 'SA':\n            return 'geekblue';\n        default:\n            return 'red';\n        }\n    };\n\n    return (\n        <Tag \n            color={getColorFromDay(day)} \n            {...rest} \n            style={{width: '1.8rem', height: '1.8rem', display: 'flex', justifyContent: 'center', alignItems: 'center', textAlign: 'center'}}\n        >{day}</Tag>\n    );\n\n}","import {RRule} from 'rrule';\nimport {createEvents, EventAttributes} from 'ics';\nimport {Course} from '../types/course';\nimport moment from 'moment-timezone';\n\n// See: https://momentjs.com/docs/#/use-it/node-js/\nmoment().tz('America/New_York').format();\n\n// See: https://github.com/moment/moment/issues/3488\nmoment.suppressDeprecationWarnings = true;\n\n/**\n * Returns FIRST LAST name\n * @param {*} str - The name in the format of LAST, FIRST\n */\nconst flipName = (str) => {\n    const split = str.split(',')\n    const first = split[1].trim()\n    const last = split[0].trim()\n    return `${first} ${last}`\n}\n\n/**\n * Returns the duration between $t1 and $t2\n * @param t1\n * @param t2\n */\nfunction duration(t1: string, t2: string): { minutes: number; hours: number } {\n    const m1 = moment(t1, 'HH:mm a');\n    const m2 = moment(t2, 'HH:mm a');\n    const duration = moment.duration(m2.diff(m1));\n    return {\n        minutes: duration.get('minutes'),\n        hours: duration.get('hours')\n    };\n}\n\n/**\n * Returns the moment numerical representation of $day\n * @note Sunday and Saturdays don't show up in the source JSON\n */\nexport function convertDayToMomentNumber(day: string) {\n    if (day === 'M') return 1;\n    if (day === 'T') return 2;\n    if (day === 'W') return 3;\n    if (day === 'TH') return 4;\n    if (day === 'F') return 5;\n    // keep these last since they are very unlikely to match true\n    if (day === 'S') return 6;\n    if (day === 'U') return 0;\n    // throw an error if the given day is invalid\n    throw new Error('Provided day is invalid');\n}\n\n/**\n * Returns the Rrule enum representation of $day\n * @note Sunday and Saturdays don't show up in the source JSON\n */\nexport function convertDayToEnum(day: string) {\n    if (day === 'M') return RRule.MO;\n    if (day === 'T') return RRule.TU;\n    if (day === 'W') return RRule.WE;\n    if (day === 'TH') return RRule.TH;\n    if (day === 'F') return RRule.FR;\n    // keep these last since they are very unlikely to match true\n    if (day === 'S') return RRule.SA;\n    if (day === 'U') return RRule.SU;\n    // throw an error if the given day is invalid\n    throw new Error('Provided day is invalid');\n}\n\n/**\n * Returns a DateArray representation of $time\n * @param time\n * @returns [number, number, number, number, number]\n */\nfunction formatStartTime(time: moment.Moment) {\n    const formatted = time.format('YYYY-M-D-H-m');\n    return formatted.split('-').map(a => +a)\n}\n\n/**\n * Returns the a moment object set to the first day $day that occurs after $fromDate.\n * @param fromDate\n * @param day\n * @param startTime\n */\nexport function firstDayAfterDate(fromDate: string, day: string, startTime: string): moment.Moment {\n    try {\n        let first = moment(`${fromDate} ${startTime}`, 'MM-DD-YYYY hh:mm a');\n        do first = first.add(1, 'days');\n        while (first.day() !== convertDayToMomentNumber(day));\n        return first;\n    } catch (e) {\n        throw e\n    }\n}\n\n/**\n * @param course - The course to create the ical file from\n * @param fromDate - Events start from this date. Format in MM/DD/YYYY\n * @param untilDate - Events end at this date. Format in MM/DD/YYYY\n */\nexport function createICS(\n    {title, department, section, times, instructors, ...rest}: Course,\n    fromDate: string,\n    untilDate: string\n) {\n\n    if (!times) return;\n\n    // placeholder for event configs\n    const eventConfigs: EventAttributes[] = [];\n\n    //const from = moment(fromDate);\n    const until = moment(untilDate);\n\n    function createRrule(day: string, until: moment.Moment) {\n        return new RRule({\n            freq: RRule.WEEKLY,\n            byweekday: convertDayToEnum(day),\n            until: until.toDate()\n        }).toString().split('RRULE:')[1];\n    }\n\n    // for each times in course.times[], we will need to create\n    // an ics event\n    for (const {day, start_time, end_time} of times) {\n\n        const start = firstDayAfterDate(fromDate, day, start_time);\n\n        // create the ics event\n        const config: EventAttributes = {\n            // @ts-ignore\n            start: formatStartTime(start),\n            duration: duration(start_time, end_time),\n            recurrenceRule: createRrule(day, until),\n            status: 'CONFIRMED',\n            title: [department, title, section].join(' '),\n            description: title,\n            // get the first instructor from the course\n            ...(instructors && {\n                organizer: {\n                    name: flipName(instructors[0].name),\n                    email: instructors[0].email\n                }\n            })\n        };\n        eventConfigs.push(config);\n\n    }\n\n    return createEvents(eventConfigs);\n}","import {Button, Tooltip} from 'antd';\nimport {CalendarFilled} from '@ant-design/icons';\nimport {createICS} from '../../lib/ical';\nimport {Course} from '../../types/course';\n\nfunction getBoundingDatesForSemester(course: Course) {\n    const semester = course.semester;\n    switch (semester) {\n    case 'fall_2021':\n        return ['08/30/2021', '12/18/2021'];\n    case 'spring_2022':\n        return ['01/18/2022', '04/29/2021'];\n    default:\n        throw new Error('Invalid semester provided.');\n    }\n}\n\nfunction generateDownloadName(course: Course) {\n    const {course_id, reg_id, semester} = course;\n    return `${[course_id, reg_id, semester.replace('_', '')].join('_')}`;\n}\n\nexport default function DownloadButton({course, ...rest}) {\n\n    const handleClick = (course: Course) => {\n\n        // Get the start and end dates for the semester.\n        const [start, end] = getBoundingDatesForSemester(course);\n\n        // Create the ics.\n        const res = createICS(course, start, end);\n\n        if (!res) {\n            throw new Error('No response received from ical generator');\n        }\n        // Download the ics.\n        if (res.value) {\n            const name = generateDownloadName(course);\n            const file = new Blob([res.value], {type: 'text/calendar'});\n            const link = document.createElement('a');\n            const url = URL.createObjectURL(file);\n            link.href = url;\n            link.setAttribute('download', name  + '.ics');\n            link.click();\n        } else if (res.error) {\n            console.error(res.error);\n        } else {\n            console.error('There was a problem generating iCal file');\n        }\n    }\n\n    return (\n        <Tooltip title=\"Download iCal for this course\" placement=\"left\">\n            <Button \n                type=\"primary\" \n                shape=\"circle\" \n                icon={<CalendarFilled />} \n                {...rest} \n                onClick={() => handleClick(course)}\n            />\n        </Tooltip>\n    );\n}","import {Course} from '../../types/course';\nimport {Table, Typography, Space} from 'antd';\nimport DayTag from './DayTag';\nimport DownloadButton from './DownloadButton';\nimport {Breakpoint} from 'antd/lib/_util/responsiveObserve';\nimport useBreakpoint from 'antd/lib/grid/hooks/useBreakpoint';\n\nconst {Paragraph} = Typography;\n\nexport default function CourseTable({courses, ...rest}) {\n\n    // antd requires each course to have a key.\n    const coursesWithKeys = courses.map((course, i) => ({key: i.toString(), ...course})) as Course[];\n  \n    // Shuffle around the instructor's name.\n    const renderName = name => {\n        const split =  name.split(',');\n        return split[1].trim() + ' ' + split[0].trim();\n    }\n\n    // Return a prettified semester name.\n    const renderSemester = semester => {\n        switch(semester) {\n        case 'fall_2021':\n            return 'Fall 2021';\n        default:\n            return semester;\n        }\n    }\n\n    // Grab the breakpoint so that we can conditionalize the table.\n    const breakpoint = useBreakpoint();\n\n    // Create the column definitions.\n    const columns = [\n        {\n            title: 'Registration Id',\n            dataIndex: 'reg_id',\n            key: 'reg_id',\n            responsive: ['lg'] as Breakpoint[]\n        },\n        {\n            title: 'Department',\n            dataIndex: 'department',\n            key: 'department',\n            responsive: ['lg'] as Breakpoint[]\n        },\n        {\n            title: 'Course',\n            dataIndex: 'title',\n            key: 'course',\n            render: (text, record) => {\n                const {title, instructors = [], times = [], reg_id} = record;\n                if (!breakpoint.sm) {\n                    return (\n                        <div>\n                            <Paragraph strong>{title}</Paragraph>\n                            <Paragraph>Registration Id<br/>{reg_id}</Paragraph>\n                            <Paragraph>Times{times.map((time, i) => (<div key={i}>{time.day} {time.start_time}-{time.end_time}</div>))}</Paragraph>\n                            {instructors.length > 0 && <Paragraph>Instructors{instructors.map((instructor, i) => (<div key={i}>{renderName(instructor.name)}</div>))}</Paragraph>}\n                        </div>\n                    );\n                } else if (!breakpoint.md) {\n                    return (\n                        <div>\n                            <Paragraph strong>{title}</Paragraph>\n                            <Paragraph>Registration Id<br/>{reg_id}</Paragraph>\n                            {instructors.length > 0 && <Paragraph>Instructors{instructors.map((instructor, i) => (<div key={i}>{renderName(instructor.name)}</div>))}</Paragraph>}\n                        </div>\n                    );\n                } else {\n                    return title;\n                }\n            },\n        },\n        {\n            title: 'Instructors',\n            dataIndex: 'instructors',\n            key: 'instructors',\n            render: instructors => {\n                if (instructors) {\n                    return (\n                        <Space direction=\"vertical\" align=\"center\">\n                            {instructors.map((instructor, i) => (\n                                <div key={i}>\n                                    <Paragraph>{renderName(instructor.name)}</Paragraph>\n                                    <Paragraph>{instructor.email}</Paragraph>\n                                </div>\n                            ))}\n                        </Space>\n                    );\n                } else {\n                    return '';\n                }\n            },\n            responsive: ['md'] as Breakpoint[]\n        },\n        {\n            title: 'Times',\n            dataIndex: 'times',\n            key: 'times',\n            render: times => {\n                if (times) {\n                    return (\n                        <Space direction=\"vertical\" align=\"center\">\n                            {times.map((time, i) => (\n                                <div key={i}>\n                                    <Paragraph style={{display: 'flex', alignItems: 'center'}}><DayTag day={time.day} />{time.start_time} - {time.end_time}</Paragraph>\n                                </div>\n                            ))}\n                        </Space>\n                    );\n                } else {\n                    return '';\n                }\n            },\n            responsive: ['sm'] as Breakpoint[]\n        },\n        {\n            title: 'Credits',\n            dataIndex: 'credits',\n            key: 'credits',\n            responsive: ['lg'] as Breakpoint[]\n        },\n        {\n            title: 'Semester',\n            dataIndex: 'semester',\n            key: 'semester',\n            render: renderSemester,\n            responsive: ['lg'] as Breakpoint[]\n        },\n        {\n            title: 'Action',\n            key: 'action',\n            render: (text, record) => {\n                return (\n                    <DownloadButton course={record} />\n                );\n            }\n        }\n    ];\n\n    return (\n        <div className=\"CourseTable\">\n            <Table dataSource={coursesWithKeys} columns={columns} {...rest} />\n        </div>\n    );\n}","const config = {\n    // The title to display in the App header.\n    appName: 'Swarthmore Course iCal Tool',\n    // The API url.\n    apiUrl: 'https://secure.swarthmore.edu/trico-course-guide/courses.json',\n    // The current semestesr.\n    semester: 'fall_2021'\n}\n\nexport default config;\n","import {useState} from 'react';\nimport {Layout, Menu, Alert} from 'antd';\nimport useCourses from '../../hooks/useCourses';\nimport CourseSearch from '../CourseSearch/CourseSearch';\nimport CourseTable from '../CoursesTable/CourseTable';\nimport {Course} from '../../types/course';\nimport config from '../../config';\n\nconst {apiUrl, semester, appName} = config;\n\nexport default function App() {\n\n    // Keep track of the selected rows.\n    const [filteredCourses, setFilteredCourses] = useState<Course[]>([]);\n\n    const {courses, error, fetching} = useCourses(apiUrl);\n\n    const handleSearch = (searchValue) => {\n        // If the search value is empty, reset the state.\n        if (!searchValue) {\n            setFilteredCourses(\n                courses\n                    .filter(course => course.semester === semester)\n                    .filter(course => Boolean(course.times))\n            );\n        }\n        // Filter the courses by the search value.\n        setFilteredCourses(\n            courses\n                .filter(course => course.title.toLowerCase().includes(searchValue.toLowerCase()))\n                .filter(course => course.semester === semester)\n                .filter(course => Boolean(course.times))\n        );\n    }\n\n    return (\n        <div className=\"App\">\n            <Layout>\n                <Layout.Header style={{padding:0}}>\n                    <Menu mode=\"horizontal\" selectable={false} style={{backgroundColor: '#631919', color: '#ffffff', fontSize: '1.5rem', margin: '0.25rem 0'}}>\n                        <Menu.Item key=\"1\">{appName}</Menu.Item>\n                    </Menu>\n                </Layout.Header>\n                <Layout.Content>\n                    {error && <Alert message={error} type=\"error\" />}\n                    <CourseSearch placeholder=\"Search for a course by name. Try: Introduction to\" enterButton=\"search\" allowClear size=\"large\" onSearch={handleSearch} />     \n                    <CourseTable courses={filteredCourses} loading={fetching} />\n                </Layout.Content>\n            </Layout>\n        </div>\n    );\n}\n","import App from './App';\nexport default App;","import {useState, useEffect} from 'react';\nimport {Course} from '../types/course';\n\nexport default function useCourses(endpoint: string) {\n    const [courses, setCourses] = useState<Course[]>([]);\n    const [fetching, setFetching] = useState(true);\n    const [error, setError] = useState(null);\n\n    // When the endpoint changes, get the new data.\n    useEffect(() => {\n        setFetching(true);\n        setError(null);\n        fetch(endpoint)\n            .then(response => response.json())\n            .then(json => {\n                setCourses(json)\n            })\n            .catch(error => setError(error))\n            .finally(() => {\n                setFetching(false);\n            });\n    }, [endpoint]);\n\n    return {fetching, courses, error};\n}","import {ReportHandler} from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n        import('web-vitals').then(({getCLS, getFID, getFCP, getLCP, getTTFB}) => {\n            getCLS(onPerfEntry);\n            getFID(onPerfEntry);\n            getFCP(onPerfEntry);\n            getLCP(onPerfEntry);\n            getTTFB(onPerfEntry);\n        });\n    }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport 'antd/dist/antd.css';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}