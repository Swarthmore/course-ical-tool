(this["webpackJsonpcourse-search"]=this["webpackJsonpcourse-search"]||[]).push([[0],{323:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r.n(n),i=r(24),a=r.n(i),s=r(33),o=r(326),u=r(67),l=r(332);var d=r(34),j=r(329),f=r(11),m=j.a.Search;function b(e){return Object(f.jsx)("div",{className:"CourseSearch",children:Object(f.jsx)(m,Object(d.a)({},e))})}var h=r(53),O=r(328),v=r(330),g=r(327),p=r(331);function x(e){var t=e.day,r=Object(h.a)(e,["day"]);return Object(f.jsx)(p.a,Object(d.a)(Object(d.a)({color:function(e){switch(e){case"SU":return"magenta";case"M":return"volcano";case"T":return"orange";case"W":return"green";case"TH":return"cyan";case"F":return"gold";case"SA":return"geekblue";default:return"red"}}(t)},r),{},{style:{width:"1.8rem",height:"1.8rem",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"},children:t}))}var y=r(57),w=r(45),S=r(333),I=r(42),C=r(41),_=r(167),k=r(58),T=r.n(k);function E(e,t){var r=T()(e,"HH:mm a"),n=T()(t,"HH:mm a"),c=T.a.duration(n.diff(r));return{minutes:c.get("minutes"),hours:c.get("hours")}}function F(e){if("M"===e)return 1;if("T"===e)return 2;if("W"===e)return 3;if("TH"===e)return 4;if("F"===e)return 5;if("S"===e)return 6;if("U"===e)return 0;throw new Error("Provided day is invalid")}function H(e){if("M"===e)return C.a.MO;if("T"===e)return C.a.TU;if("W"===e)return C.a.WE;if("TH"===e)return C.a.TH;if("F"===e)return C.a.FR;if("S"===e)return C.a.SA;if("U"===e)return C.a.SU;throw new Error("Provided day is invalid")}function R(e,t,r){try{var n=T()("".concat(e," ").concat(r),"MM-DD-YYYY hh:mm a");do{n=n.add(1,"days")}while(n.day()!==F(t));return n}catch(c){throw c}}function U(e){var t=e.course,r=Object(h.a)(e,["course"]),n=function(e){var t=function(e){switch(e.semester){case"fall_2021":return["08/30/2021","12/18/2021"];case"spring_2022":return["01/18/2022","04/29/2021"];default:throw new Error("Invalid semester provided.")}}(e),r=Object(s.a)(t,2),n=function(e,t,r){var n=e.title,c=e.department,i=e.section,a=e.times,s=e.instructors;if(Object(h.a)(e,["title","department","section","times","instructors"]),a){var o,u,l=[],j=T()(r),f=Object(I.a)(a);try{for(f.s();!(o=f.n()).done;){var m=o.value,b=m.day,O=m.start_time,v=m.end_time,g=R(t,b,O),p=Object(d.a)({start:(u=g,u.format("YYYY-M-D-H-m").split("-").map((function(e){return+e}))),duration:E(O,v),recurrenceRule:x(b,j),status:"CONFIRMED",title:[c,n,i].join(" "),description:n},s&&{organizer:{name:s[0].name,email:s[0].email}});l.push(p)}}catch(y){f.e(y)}finally{f.f()}return Object(_.createEvents)(l)}function x(e,t){return new C.a({freq:C.a.WEEKLY,byweekday:H(e),until:t.toDate()}).toString().split("RRULE:")[1]}}(e,r[0],r[1]);if(!n)throw new Error("No response received from ical generator");if(n.value){var c=function(e){var t=e.course_id,r=e.reg_id,n=e.semester;return"".concat([t,r,n.replace("_","")].join("_"))}(e),i=new Blob([n.value],{type:"text/calendar"}),a=document.createElement("a"),o=URL.createObjectURL(i);a.href=o,a.setAttribute("download",c+".ics"),a.click()}else n.error?console.error(n.error):console.error("There was a problem generating iCal file")};return Object(f.jsx)(y.a,{title:"Download iCal for this course",placement:"left",children:Object(f.jsx)(w.a,Object(d.a)(Object(d.a)({type:"primary",shape:"circle",icon:Object(f.jsx)(S.a,{})},r),{},{onClick:function(){return n(t)}}))})}T()().tz("America/New_York").format(),T.a.suppressDeprecationWarnings=!0;var Y=r(174),D=r.n(Y),M=O.a.Paragraph;function L(e){var t=e.courses,r=Object(h.a)(e,["courses"]),n=t.map((function(e,t){return Object(d.a)({key:t.toString()},e)})),c=function(e){var t=e.split(",");return t[1].trim()+" "+t[0].trim()},i=D()(),a=[{title:"Registration Id",dataIndex:"reg_id",key:"reg_id",responsive:["lg"]},{title:"Department",dataIndex:"department",key:"department",responsive:["lg"]},{title:"Course",dataIndex:"title",key:"course",render:function(e,t){var r=t.title,n=t.instructors,a=void 0===n?[]:n,s=t.times,o=void 0===s?[]:s,u=t.reg_id;return i.sm?i.md?r:Object(f.jsxs)("div",{children:[Object(f.jsx)(M,{strong:!0,children:r}),Object(f.jsxs)(M,{children:["Registration Id",Object(f.jsx)("br",{}),u]}),a.length>0&&Object(f.jsxs)(M,{children:["Instructors",a.map((function(e,t){return Object(f.jsx)("div",{children:c(e.name)},t)}))]})]}):Object(f.jsxs)("div",{children:[Object(f.jsx)(M,{strong:!0,children:r}),Object(f.jsxs)(M,{children:["Registration Id",Object(f.jsx)("br",{}),u]}),Object(f.jsxs)(M,{children:["Times",o.map((function(e,t){return Object(f.jsxs)("div",{children:[e.day," ",e.start_time,"-",e.end_time]},t)}))]}),a.length>0&&Object(f.jsxs)(M,{children:["Instructors",a.map((function(e,t){return Object(f.jsx)("div",{children:c(e.name)},t)}))]})]})}},{title:"Instructors",dataIndex:"instructors",key:"instructors",render:function(e){return e?Object(f.jsx)(v.b,{direction:"vertical",align:"center",children:e.map((function(e,t){return Object(f.jsxs)("div",{children:[Object(f.jsx)(M,{children:c(e.name)}),Object(f.jsx)(M,{children:e.email})]},t)}))}):""},responsive:["md"]},{title:"Times",dataIndex:"times",key:"times",render:function(e){return e?Object(f.jsx)(v.b,{direction:"vertical",align:"center",children:e.map((function(e,t){return Object(f.jsx)("div",{children:Object(f.jsxs)(M,{style:{display:"flex",alignItems:"center"},children:[Object(f.jsx)(x,{day:e.day}),e.start_time," - ",e.end_time]})},t)}))}):""},responsive:["sm"]},{title:"Credits",dataIndex:"credits",key:"credits",responsive:["lg"]},{title:"Semester",dataIndex:"semester",key:"semester",render:function(e){switch(e){case"fall_2021":return"Fall 2021";default:return e}},responsive:["lg"]},{title:"Action",key:"action",render:function(e,t){return Object(f.jsx)(U,{course:t})}}];return Object(f.jsx)("div",{className:"CourseTable",children:Object(f.jsx)(g.a,Object(d.a)({dataSource:n,columns:a},r))})}var A={apiUrl:"https://secure.swarthmore.edu/trico-course-guide/courses.json",semester:"fall_2021"},B=A.apiUrl,N=A.semester;var W=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),r=t[0],c=t[1],i=function(e){var t=Object(n.useState)([]),r=Object(s.a)(t,2),c=r[0],i=r[1],a=Object(n.useState)(!0),o=Object(s.a)(a,2),u=o[0],l=o[1],d=Object(n.useState)(null),j=Object(s.a)(d,2),f=j[0],m=j[1];return Object(n.useEffect)((function(){l(!0),m(null),fetch(e).then((function(e){return e.json()})).then((function(e){i(e)})).catch((function(e){return m(e)})).finally((function(){l(!1)}))}),[e]),{fetching:u,courses:c,error:f}}(B),a=i.courses,d=i.error,j=i.fetching;return Object(f.jsx)("div",{className:"App",children:Object(f.jsxs)(o.a,{children:[Object(f.jsx)(o.a.Header,{style:{padding:0},children:Object(f.jsx)(u.a,{mode:"horizontal",selectable:!1,style:{backgroundColor:"#631919",color:"#ffffff",fontSize:"1.5rem",margin:"0.25rem 0"},children:Object(f.jsx)(u.a.Item,{children:"Course Search"},"1")})}),Object(f.jsxs)(o.a.Content,{children:[d&&Object(f.jsx)(l.a,{message:d,type:"error"}),Object(f.jsx)(b,{placeholder:"Begin typing to filter courses",enterButton:"search",allowClear:!0,size:"large",onSearch:function(e){c(e?a.filter((function(t){return t.title.toLowerCase().includes(e.toLowerCase())})).filter((function(e){return e.semester===N})).filter((function(e){return Boolean(e.times)})):a.filter((function(e){return e.semester===N})).filter((function(e){return Boolean(e.times)})))}}),Object(f.jsx)(L,{courses:r,loading:j})]})]})})},z=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,334)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;r(e),n(e),c(e),i(e),a(e)}))};r(321);a.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(W,{})}),document.getElementById("root")),z()}},[[323,1,2]]]);
//# sourceMappingURL=main.79fb8aa5.chunk.js.map